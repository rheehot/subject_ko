# page 0

cub3D

miniLibX를 사용한 나의 첫 RayCaster

요약: 이 프로젝트는 세계적으로 유명한 90년대 게임에서 영감을 얻었는데, 이 게임은 역대 최초의 FPS 였습니다. 그것은 여러분이 ray-casting을 탐험할 수 있게 해줄 것입니다. 여러분의 목표는 미로 안에서 역동적인 뷰를 만드는 것이 될 것이며, 그 안에서 여러분은 길을 찾아야 할 것입니다.

# page 2

Chapter I

Foreword

유명한 존 카맥과 존 로메로가 설립한 이드 소프트웨어에서 개발하고, 1992년 아포기 소프트웨어에서 발간한, 울펜슈타인 3D는 비디오 게임 역사상 최초의 진정한 ''1인칭 슈팅 게임"이다.

```
Doom... DoOm... DOom... DooM... (picture)
```

그림 I.1: 존 로메로(왼쪽)와 존 카맥(오른쪽)이 후세를 위해 포즈를 취하고 있다.



울펜슈타인 3D는 둠(이드 소프트웨어, 1993), 둠 II(이드 소프트웨어, 1994), 듀크 뉴켐 3D(3D Realm, 1996), 퀘이크(이드 소프트웨어, 1996)과 같은 게임의 조상이며, 비디오 게임 세계에서의 영원한 이정표다.



이제, 여러분이 역사를 다시 세울 차례입니다...

# page 3

Chapter II

Goals

이번 프로젝트의 목표는 엄격함, C언어 사용, 기본 알고리즘 사용, 정보 연구 등과 같은 다른 모든 프로젝트와 유사합니다.

그래픽 디자인 프로젝트로서, cub3D는 창, 색상, 이벤트, 모양 채우기 등과 같은 분야에서 여러분의 기술을 향상시킬 수 있게 해줄 것입니다.

결론적으로, cub3D는 구체적인 내용을 이해하지 않고도 수학의 재밌고 실용적인 응용 프로그램을 탐구할 수 있는 뛰어난 놀이터입니다.

인터넷에서 이용할 수 있는 수 많은 문서를 이용하여, 여러분은 우아하고 효과적인 알고리즘을 만드는 도구로써 수학을 사용할 것입니다.

```
Wolfenstein 3D. (picture)
```

이 프로젝트를 시작하기 전에 오리지널 게임을 테스트해보는 걸 추천합니다.

http://users.atw.hu/wolf3d/

# page 4

Chapter III

Common Instructions

* 프로젝트는 Norm 규칙에 맞춰 작성되어야 합니다. 보너스 파일/함수가 있는 경우,해당 파일/함수
  들은 norm 검사에 포함되며, norm error가 있을 시, 0점을 받게 될것입니다.
* 함수들은 정의되지 않은 행동들과는 별개로 예기치 않게 중단되어서는 안 됩니다.(예를 들어,
  segmentation fault, bus error, double free 등.) 만약 이렇게 중단되면, 당신의 프로젝트는 작동하지 않는 것으로 여겨지고 평가에서 0점을 받을 것입니다.
* 필요한 경우 heap에 할당된 모든 메모리 공간은 적절하게 해제되어야 합니다. 메모리 누수는 용
  납되지 않을 것입니다.
* 그 과제에서 필요한 경우, Makefile을 제출해야 합니다. 그것은 -Wall -Wextra -Werror 플래그를
  지정하여 컴파일할 것입니다. 그리고 Makefile은 relink 되어서는안됩니다.
* Makefile은 최소한 $(NAME), all, clean, fclean, re를 포함해야 합니다.
* 프로젝트에 보너스를 제출하려면, Makefile에 보너스 규칙을 포함해야 합니다. 이보너스 규칙은
  프로젝트의 메인 부분에서 금지되었던 모든 다양한 헤더, 라이브러리,또는 함수들은 추가해야 할
  것입니다. 보너스는 반드시 _bonus.{c/h}라는 다른 파일에 있어야 합니다. 의무적으로 해야 될 파
  트과 보너스 파트는 별도로 평가될 것입니다.
* 프로젝트에서 여러분의 libft를 허용한다면, 소스들과 그것과 연관된 Makefile을 연관된 Makefile과
  함께 libft폴더에 복사해야 합니다. 프로젝트의 Makefile은 Makefile을 사용하여 라이브러리를 컴
  파일한 다음, 프로젝트를 컴파일해야 합니다.
* 이 과제물을 제출할 필요가 없고, 채점 받을 필요가 없을지라도, 우리는 프로젝트를 위한 테스트 프로그램을 만들 것을 권장합니다. 그것은 여러분의 과제물과 동료들의 과제물을 쉽게 테스트할 기회를 제공할 것입니다. 평가하는 동안 이 테스트 프로그램들이 특히 유용하다는 것을 알게 될 것입니다. 사실, 평가하는 동안, 여러분의 테스트 프로그램과 평가 받는 동료의 테스트 프로그램들을 자유롭게 사용할 수 있을것입니다.
* 할당된 git 저장소에 과제물을 제출하세요. 오직 git 저장소에 있는 과제물만 등급이매겨질 것입
  니다. 만약 과제를 평가받는데 Deepthought가 배정된다면, 그것은 동료평가 이후에 이루어질 것입니다. 만약 Deepthought 평가 중에 오류가 발생한다면, 그 즉시 평가는 중지될 것입니다.

# page 5

Chapter IV

Mandatory part - cub3D

```
cub3D
```

제약은 다음과 같습니다:

* miniLibX를 사용해야 합니다. (운영체제에서 이용 가능 한 것 또는 그 소스) 만약 소스를 이용해 작업하기로 했다면, libft의 공통 지침과 같은 규칙을 따라야 할 것입니다.
* 윈도우 관리는 최소화, 다른 창으로 전환 등 완벽해야 합니다.
* 벽이 어느 쪽(북, 남, 동, 서)을 향하고 있는지에 따라 다른 벽 질감을 표시해야 합니다.

# page 6

* 여러분의 프로그램은 벽 대신 아이템(스프라이트)을 표시할 수 있어야 합니다.
* 여러분의 프로그램은 바닥과 천장의 색을 서로 다르게 설정할 수 있어야 합니다.

* 언젠가 Deepthougt가 여러분의 프로젝트를 평가할 수 있는 눈을 가지게 될 경우를 위해, 여러분의 프로그램은 두 번째 인자가 "--save"일 때 첫 번째 렌더링된 이미지를 bmp 형식으로 저장해야 합니다.
* 두번재 인자가 없을 경우, 프로그램은 다음 규칙을 준수하면서 화면 창에 영상을 표시합니다.
  * 키보드의 왼쪽과 오른쪽 화살표 키는 미로에서 왼쪽과 오른쪽을 볼 수 있도록 해주어야 합니다.
  * W, A, S, D 키는 미로를 통해 시점을 이동할 수 있어야 합니다.
  * ESC를 누르면 창이 닫히고 프로그램이 정상적으로 종료되어야 합니다.
  * 창 상단 표시줄에 있는 빨간색 십자가를 클릭하면 창이 닫히고 프로그램이 정상적으로 종료되어야 합니다.
  * 지도에 표시된 화면 크기가 디스플레이 해상도보다 크면 현재 디스플레이 해상도에 따라 윈도우 크기가 설정될 것입니다.
  * miniLibX의 이미지를 사용하는 것을 적극 권장합니다.

* 여러분의 프로그램은 먼저 .cub 확장자가 있는 화면에 대한 설명이 들어있는 파일을 첫 번째 인수로 받아들여야 합니다.

  * 지도에는 4개의 문자로만 구성되어야 합니다. (빈 공간인 경우 0, 벽인 경우 1, 아이템인 경우 2, 플레이어의 출발 위치와 태어난 위치에서 바라보는 방향인 N, S, E, W)

    ```
    map
    ```

  * 지도는 벽으로 둘러쌓여 있어야 합니다. 그렇지 않다면 프로그램은 오류를 반환해야 합니다.

  * 지도 내용을 제외하고는, 각각의 요소들은 하나 혹은 그 이상의 빈 줄로 분리될 수 있습니다.

  * 항상 마지막에 있어야 하는 지도 내용을 제외하고는, 각각의 요소들은 어떠한 순서로도 파일안에 구성될 수 있습니다.

  * 지도를 제외하고, 요소에서 각 유형의 정보는 하나 이상의 공백으로 구분될 수 있습니다.

  * 지도는 파일 내에서 보이는 것처럼 불러 올수 있어야합니다. 공백은 지도의 유효한 부분이며, 그 처리는 여러분의 몫입니다. 규칙대로 만들어진 어떠한 종류의 지도는 불러올 수 있어야 합니다.



  # page 7

  * 각 요소(지도 제외)의 첫 번째 정보는 유형 식별자(하나 또는 두개의 문자로 구성된)이며, 각 객체에 대한 모든 구체적인 정보는 다음과 같은 엄격한 규칙을 따릅니다.

    \* 해상도:

    ```
    R 1920 1080
    ```

    · identifier: R<br>
    · x 렌더 크기<br>
    · y 렌더 크기

    \* 북쪽 텍스쳐:

    ```
    NO ./path_to_the_north_texture
    ```

    · identifier: NO<br>
    · 북쪽 텍스쳐가 담겨있는 경로

    \* 남쪽 텍스쳐:

    ```
    SO ./path_to_the_south_texture
    ```

    · identifier: SO<br>
    · 남쪽 텍스쳐가 담겨있는 경로

    \* 서쪽 텍스쳐:

    ```
    WE ./path_to_the_west_texture
    ```

    · identifier: WE<br>
    · 서쪽 텍스쳐가 담겨있는 경로

    \* 동쪽 텍스쳐:

    ```
    EA ./path_to_the_east_texture
    ```

    · identifier: EA<br>
    · 동쪽 텍스쳐가 담겨있는 경로

    \* 아이템 텍스쳐:

    ```
    S ./path_to_the_sprite_texture
    ```

    · identifier: S<br>
    · 아이템 텍스쳐가 담겨있는 경로

    \* 바닥 색상:

    ```
    F 220,100,0
    ```

    · identifier: F<br>
    · R,G,B 색상 [0,255]: 0, 255, 255

    # page 8

    \* 천상 색상:

    ```
    C 225,30,0
    ```

    · identifier: C<br>
    · R,G,B 색상 [0,255]: 0, 255, 255

  * .cub 파일의 예:

    ```
    R 1920 1080
    NO ./path_to_the_north_texture
    SO ./path_to_the_south_texture
    WE ./path_to_the_west_texture
    EA ./path_to_the_east_texture

    S ./path_to_the_sprite_texture
    F 220,100,0
    C 225,30,0

            1111111111111111111111111
            1000000000110000000000001
            1011000001110000002000001
            1001000000000000000000001
    111111111011000001110000000000001
    100000000011000001110111111111111
    11110111111111011100000010001
    11110111111111011101010010001
    11000000110101011100000010001
    10002000000000001100000010001
    10000000000000001101010010001
    11000001110101011111011110N0111
    11110111 1110101 101111010001
    11111111 1111111 111111111111
    ```

  * 파일에서 잘못된 구성이 발견되면 프로그램을 올바르게 종료하고 "Error\n"을 반환한 후 여러분이 정한 명시적 오류 메세지가 표시되어야 합니다.

# page 9

Chapter V

Bonus part

```
빨갱이
보너스는 필수로 해야 하는 부분이 완벽할 때만 평가될 것입니다. 완벽이라 함은 잘못된 사용과 같은 끔찍한 실수에도 불구하고 어떤 경우에도 실패하지 않는다는 것을 의미합니다. 기본적으로 필수로 해야 하는 부분에서 만점을 받지 못한다면, 보너스는 완전히 무시될 것입니다.
```

보너스 목록:

* 벽 충돌.
* 스카이박스.
* 바닥 또는 천장 텍스쳐.
* HUD.
* 위 아래를 볼 수 있는 기능.
* 점프하거나 웅크리기.
* 거리에 따른 그림자 효과.
* 생명 바.
* 미로 속 더 많은 아이템.
* 물체 충돌.
* 물체 또는 트랩을 주움으로써 포인트를 획득하거나 생명을 잃도록 하기.
* 여닫을 수 있는 문.
* 비밀 문.
* 총 발사 애니메이션 또는 움직이는 아이템 애니메이션.
* 여러개의 레벨.
* 사운드이펙트과 배경음악.
* 마우스로 시점 전환하기.

# page 10

* 무기와 싸울 수 있는 악당.

```
노랭이
모든 보너스 포인트를 얻기 위해서는 최소한 14개를 검증해야 하므로, 현명하게 선택하되 시간을 낭비하지 않도록 주의하십시오!
```

```
퍼랭이
평가 중에 다른 기능을 사용하는 것이 정당하다면, 보너스 파트를 완성하기 위해 그러한 기능들을 사용해도 됩니다. 또한 원하는 화면 파일 형식을 필요에 맞게 수정할 수 있습니다. Be smart!
```

# page 11

Chapter VI
Examples

```
그림 VI.1
```

<center>그림 VI.1: RayCasting을 사용한 오리지널 게임 Wolfeinstein3D.</center>

```
그림 VI.2
```

<center>그림 VI.2: 필수 항목에 따라 보여져야 할 모습의 예 </center>

# page 12

```
그림 VI.3
```

<center>그림 VI.3: 미니맵, 바닥 및 천장 텍스쳐, 애니화된 유명한 고슴도치를 나타낸 예(보너스)</center>

```
그림 VI.4
```

<center>그림 VI.4: HUD, 생명 바, 사운드이펙트, 배경음악, 그림자 효과, 총을 나타낸 예(보너스)</center>

# page 13

```
그림 VI.5
```

<center>그림 VI.5: 다른 무기로 전환하고 천장을 보고 있는 예(보너스)
